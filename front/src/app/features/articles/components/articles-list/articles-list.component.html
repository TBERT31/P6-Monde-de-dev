<div class="articles">
    <div class="articles-controls">
        <button mat-raised-button color="primary" 
        type="button" 
        class="create-button"
        routerLink="create">
            Créer un article
        </button>
        <button type="button" class="sort-button" (click)="toggleSortOrder()">
            <span>Trier par {{ order === 'desc' ? '↓' : '↑' }}</span> 
        </button>
    </div>
    <div class="articles-cards-container">
        <mat-card class="articles-card"
        [routerLink]="['detail',article.id]"
        appearance="outlined" 
        *ngFor="let article of (articles$ | async)">
            <mat-card-header class="articles-card-header">
              <mat-card-title-group class="header-group">
                <mat-card-title
                #tooltipTitle="matTooltip"
                [matTooltip]="article.title"
                matTooltipHideDelay="10" 
                class="title">{{article.title | truncate:100}}</mat-card-title>
                <div class="subtitle-group">
                    <mat-card-subtitle class="date">{{article.updatedAt}}</mat-card-subtitle>
                    <mat-card-subtitle 
                    #tooltipAuthor="matTooltip"
                    [matTooltip]="article.author"
                    matTooltipHideDelay="10" 
                    class="author">
                        {{ article.author | truncate:15 }}
                    </mat-card-subtitle>
                </div>
              </mat-card-title-group>
            </mat-card-header>
            <mat-card-content 
            #tooltipContent="matTooltip"
            matTooltip="cliquez pour en savoir plus."
            matTooltipHideDelay="10"
            class="articles-card-body">
                {{ article.content | truncate:1000 }}
            </mat-card-content>
        </mat-card>
    </div>
</div>
